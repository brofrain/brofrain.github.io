{"version":3,"sources":["webpack:///./src/views/CurrencyToTable.vue","webpack:///./src/components/currency-to-table/TheCurrencyTable.vue","webpack:///./src/composables/useTheCurrencyTable.js","webpack:///./src/components/currency-to-table/TheCurrencyTable.vue?bb13","webpack:///./src/composables/useCurrencyToTable.js","webpack:///./src/views/CurrencyToTable.vue?e5d2","webpack:///./src/views/CurrencyToTable.vue?d4ab","webpack:///./src/components/currency-to-table/TheCurrencyTable.vue?21a6","webpack:///./node_modules/core-js/modules/es.array.filter.js"],"names":["class","fluid","col","baseValue","currencyCodes","length","baseCurrency","options","searchable","canDeselect","noResultsText","loading","targetCurrencies","mode","placeholder","clearOnSelect","multiplelabel","rememberChosenCurrencies","label","md","lg","xl","targetValues","targetValuesObj","variant","hover","striped","value","currency","key","currencyNames","toast","useToast","CURRENCY_NAMES_API","ref","axios","get","then","response","data","constructor","Object","catch","error","name","props","type","required","setup","useTheCurrencyTable","render","__scopeId","DEFAULT_BASE_CURRENCY","store","useStore","computed","getters","sortedCurrencyCodes","localStorage","tableRememberChosenCurrencies","tableBaseCurrency","getStoredTargetCurrencies","JSON","parse","tableTargetCurrencies","e","trueTargetCurrencies","filter","code","getConvertedCurrenciesObj","storeRememberChosenCurrencies","storeBaseCurrency","storeTargetCurrencies","stringify","validateBaseValue","newValue","oldValue","isNaN","watch","components","TheCurrencyTable","useCurrencyToTable","$","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","this","arguments","undefined"],"mappings":"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","file":"js/currency-to-table.bb09b577.js","sourcesContent":["<template>\r\n  <mdb-container class=\"table-container px-2 py-5\" fluid>\r\n    <mdb-col col=\"auto\">\r\n      <div class=\"input-group-label text-light text-shadow\">\r\n        Base currency\r\n      </div>\r\n    </mdb-col>\r\n\r\n    <mdb-col col=\"auto\">\r\n      <div class=\"input-group input-group-lg\">\r\n        <input v-model=\"baseValue\" class=\"form-control\" />\r\n\r\n        <multiselect\r\n          class=\"base-currency-multiselect\"\r\n          v-model=\"baseCurrency\"\r\n          :options=\"currencyCodes\"\r\n          :searchable=\"true\"\r\n          :canDeselect=\"false\"\r\n          noResultsText=\"???\"\r\n          :loading=\"!currencyCodes.length\"\r\n          :class=\"!currencyCodes.length ? 'is-loading' : ''\"\r\n        />\r\n      </div>\r\n    </mdb-col>\r\n\r\n    <mdb-col col=\"12\" class=\"pb-1\" />\r\n\r\n    <mdb-col col=\"auto\">\r\n      <div class=\"input-group-label text-light text-shadow\">\r\n        Target currencies\r\n      </div>\r\n    </mdb-col>\r\n\r\n    <mdb-col col=\"auto\">\r\n      <div class=\"input-group input-group-lg\">\r\n        <multiselect\r\n          class=\"target-currencies-multiselect\"\r\n          v-model=\"targetCurrencies\"\r\n          :options=\"currencyCodes\"\r\n          mode=\"multiple\"\r\n          placeholder=\"All available\"\r\n          noResultsText=\"???\"\r\n          :clearOnSelect=\"true\"\r\n          :searchable=\"true\"\r\n          :loading=\"!currencyCodes.length\"\r\n          :class=\"!currencyCodes.length ? 'is-loading' : ''\"\r\n        >\r\n          <template v-slot:multiplelabel>\r\n            <div class=\"multiselect-multiple-label\">\r\n              {{ targetCurrencies.length }} selected\r\n            </div>\r\n          </template>\r\n        </multiselect>\r\n      </div>\r\n    </mdb-col>\r\n\r\n    <mdb-col col=\"12\" class=\"row justify-content-center py-3\">\r\n      <div class=\"input-group text-light text-shadow\">\r\n        <mdb-checkbox\r\n          v-model=\"rememberChosenCurrencies\"\r\n          label=\"Remember chosen currencies for your next visit\"\r\n        />\r\n      </div>\r\n    </mdb-col>\r\n\r\n    <mdb-col col=\"12\" class=\"py-3\" />\r\n\r\n    <mdb-col col=\"12\" md=\"11\" lg=\"10\" xl=\"6\" class=\"rounded box-shadow\">\r\n      <TheCurrencyTable :targetValues=\"targetValuesObj\" />\r\n    </mdb-col>\r\n  </mdb-container>\r\n</template>\r\n\r\n<script>\r\nimport TheCurrencyTable from \"@/components/currency-to-table/TheCurrencyTable\";\r\n\r\nimport useCurrencyToTable from \"@/composables/useCurrencyToTable\";\r\n\r\nexport default {\r\n  name: \"CurrencyToTable\",\r\n\r\n  components: { TheCurrencyTable },\r\n\r\n  setup() {\r\n    const {\r\n      currencyCodes,\r\n      rememberChosenCurrencies,\r\n      baseCurrency,\r\n      targetCurrencies,\r\n      baseValue,\r\n      targetValuesObj\r\n    } = useCurrencyToTable();\r\n\r\n    return {\r\n      currencyCodes,\r\n      rememberChosenCurrencies,\r\n      baseCurrency,\r\n      targetCurrencies,\r\n      baseValue,\r\n      targetValuesObj\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.table-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: baseline;\r\n  align-content: flex-start;\r\n  justify-content: center;\r\n\r\n  .input-group {\r\n    padding: 0;\r\n    margin: 0;\r\n    width: min-content;\r\n    flex-wrap: nowrap;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .input-group-label {\r\n    font-size: 1.25rem;\r\n    width: 180px;\r\n    padding: 0 10px;\r\n    margin: 0;\r\n  }\r\n\r\n  .form-control {\r\n    width: 150px;\r\n    max-width: 150px;\r\n    font-size: 1.2rem;\r\n    text-align: center;\r\n    display: block;\r\n  }\r\n\r\n  .multiselect-search input {\r\n    font-size: 1.2rem;\r\n  }\r\n\r\n  .multiselect-single-label,\r\n  .multiselect-multiple-label,\r\n  .multiselect-placeholder {\r\n    font-size: 1.2rem;\r\n  }\r\n\r\n  .multiselect-option {\r\n    font-size: 1rem;\r\n  }\r\n\r\n  .base-currency-multiselect {\r\n    width: 100px;\r\n\r\n    .multiselect-input {\r\n      border-radius: 0 0.3rem 0.3rem 0;\r\n    }\r\n\r\n    .multiselect-clear {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  .target-currencies-multiselect {\r\n    width: 250px;\r\n\r\n    .multiselect-input {\r\n      border-radius: 0.3rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <mdb-table variant=\"dark\" hover striped>\r\n    <thead class=\"bg-primary\">\r\n      <tr>\r\n        <th>Currency</th>\r\n\r\n        <th>Name</th>\r\n\r\n        <th>Value</th>\r\n      </tr>\r\n    </thead>\r\n\r\n    <tbody>\r\n      <tr v-for=\"(value, currency) in targetValues\" :key=\"currency\">\r\n        <td>{{ currency }}</td>\r\n\r\n        <td>{{ currencyNames[currency] || \"???\" }}</td>\r\n\r\n        <td>{{ value }}</td>\r\n      </tr>\r\n    </tbody>\r\n  </mdb-table>\r\n</template>\r\n\r\n<script>\r\nimport useTheCurrencyTable from \"@/composables/useTheCurrencyTable\";\r\n\r\nexport default {\r\n  name: \"TheCurrencyTable\",\r\n\r\n  props: { targetValues: { type: Object, required: true } },\r\n\r\n  setup() {\r\n    const { currencyNames } = useTheCurrencyTable();\r\n    return { currencyNames };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n  text-align: center;\r\n  font-size: 1rem;\r\n  margin: 0;\r\n  border-radius: 0.3rem;\r\n  overflow: hidden;\r\n}\r\n\r\n.table th {\r\n  font-weight: 700;\r\n}\r\n</style>\r\n","import { ref } from \"vue\";\r\nimport { useToast } from \"vue-toastification\";\r\nimport axios from \"axios\";\r\n\r\nconst toast = useToast();\r\n\r\nconst CURRENCY_NAMES_API = \"https://openexchangerates.org/api/currencies.json\";\r\n\r\nexport default () => {\r\n  const currencyNames = ref({});\r\n\r\n  axios\r\n    .get(CURRENCY_NAMES_API)\r\n    .then(response => {\r\n      if (response.data?.constructor === Object) {\r\n        currencyNames.value = response.data;\r\n      }\r\n    })\r\n    .catch(() => {\r\n      toast.error(\"Fetching currency names has failed!\");\r\n    });\r\n\r\n  return { currencyNames };\r\n};\r\n","import { render } from \"./TheCurrencyTable.vue?vue&type=template&id=680e62ef&scoped=true\"\nimport script from \"./TheCurrencyTable.vue?vue&type=script&lang=js\"\nexport * from \"./TheCurrencyTable.vue?vue&type=script&lang=js\"\n\nimport \"./TheCurrencyTable.vue?vue&type=style&index=0&id=680e62ef&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-680e62ef\"\n\nexport default script","import { ref, computed, watch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nconst DEFAULT_BASE_CURRENCY = \"EUR\";\r\n\r\nexport default () => {\r\n  const store = useStore();\r\n\r\n  const currencyCodes = computed(() => store.getters.sortedCurrencyCodes);\r\n\r\n  const rememberChosenCurrencies = ref(\r\n    localStorage.tableRememberChosenCurrencies === \"true\"\r\n  );\r\n\r\n  const baseCurrency = ref(\r\n    rememberChosenCurrencies.value\r\n      ? localStorage.tableBaseCurrency || DEFAULT_BASE_CURRENCY\r\n      : DEFAULT_BASE_CURRENCY\r\n  );\r\n\r\n  const getStoredTargetCurrencies = () => {\r\n    if (!rememberChosenCurrencies.value) return [];\r\n\r\n    try {\r\n      return JSON.parse(localStorage.tableTargetCurrencies);\r\n    } catch (e) {\r\n      return [];\r\n    }\r\n  };\r\n  const targetCurrencies = ref(getStoredTargetCurrencies());\r\n\r\n  const trueTargetCurrencies = computed(() =>\r\n    targetCurrencies.value.length\r\n      ? targetCurrencies.value\r\n      : currencyCodes.value.filter(code => code !== baseCurrency.value)\r\n  );\r\n\r\n  const baseValue = ref(1);\r\n  const targetValuesObj = computed(() =>\r\n    store.getters.getConvertedCurrenciesObj(\r\n      baseValue.value,\r\n      baseCurrency.value,\r\n      trueTargetCurrencies.value\r\n    )\r\n  );\r\n\r\n  const storeRememberChosenCurrencies = () => {\r\n    localStorage.tableRememberChosenCurrencies = rememberChosenCurrencies.value;\r\n  };\r\n  const storeBaseCurrency = () => {\r\n    if (rememberChosenCurrencies.value) {\r\n      localStorage.tableBaseCurrency = baseCurrency.value;\r\n    }\r\n  };\r\n  const storeTargetCurrencies = () => {\r\n    if (rememberChosenCurrencies.value) {\r\n      localStorage.tableTargetCurrencies = JSON.stringify(\r\n        targetCurrencies.value\r\n      );\r\n    }\r\n  };\r\n\r\n  const validateBaseValue = (newValue, oldValue) => {\r\n    if (isNaN(newValue) || newValue < 0 || newValue > 999999999) {\r\n      baseValue.value = oldValue;\r\n    }\r\n  };\r\n\r\n  watch(baseValue, validateBaseValue);\r\n  watch(baseCurrency, storeBaseCurrency);\r\n  watch(targetCurrencies, storeTargetCurrencies);\r\n  watch(rememberChosenCurrencies, () => {\r\n    storeRememberChosenCurrencies();\r\n    storeBaseCurrency();\r\n    storeTargetCurrencies();\r\n  });\r\n\r\n  return {\r\n    currencyCodes,\r\n    rememberChosenCurrencies,\r\n    baseCurrency,\r\n    targetCurrencies,\r\n    baseValue,\r\n    targetValuesObj\r\n  };\r\n};\r\n","import { render } from \"./CurrencyToTable.vue?vue&type=template&id=3c64032d\"\nimport script from \"./CurrencyToTable.vue?vue&type=script&lang=js\"\nexport * from \"./CurrencyToTable.vue?vue&type=script&lang=js\"\n\nimport \"./CurrencyToTable.vue?vue&type=style&index=0&id=3c64032d&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CurrencyToTable.vue?vue&type=style&index=0&id=3c64032d&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TheCurrencyTable.vue?vue&type=style&index=0&id=680e62ef&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}