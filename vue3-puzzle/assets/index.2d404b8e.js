import{d as k,u as j,r as P,n as V,o as p,c as f,a as c,b as M,e as A,t as R,w as N,v as q,f as z,g as I,p as x,h as w,i as B,j as C,k as v,T as J,l as Q,F as D,m as X,q as Y,s as Z,x as ee,y as se,z as O,A as K,B as te}from"./vendor.020f609c.js";const oe=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}};oe();var U="/vue3-puzzle/assets/hans-peter-gauster-3y1zF4hIPCg-unsplash.3393350d.jpg",E="/vue3-puzzle/assets/mikhail-vasilyev-NodtnCsLdTE-unsplash.84de7dd3.jpg";var $=(e,n)=>{const t=e.__vccOpts||e;for(const[r,s]of n)t[r]=s;return t};const ne={id:"background"},le=k({setup(e){j(r=>({"462c7afd":t.value}));const n=new URL(U,self.location).href,t=P(null);return(()=>{const r=new Image;r.src=n,r.onload=async()=>{await V(),t.value=`url(${n})`}})(),(r,s)=>(p(),f("div",ne,[c("div",{class:M(["background__img-cover",!t.value&&"background__img-cover--hidden"])},null,2)]))}});var ae=$(le,[["__scopeId","data-v-7931ed9e"]]);const T=e=>(x("data-v-59461763"),e=e(),w(),e),re={id:"controls"},ce={class:"controls__stats"},ue=T(()=>c("div",null,"Moves:",-1)),ie={class:"controls__stats__value"},_e=T(()=>c("div",null,null,-1)),de=T(()=>c("div",null,"Time:",-1)),ve={class:"controls__stats__value"},pe={class:"controls__options"},ze={class:"controls__options__size"},he=T(()=>c("div",null,"x",-1)),fe=B(" Update size "),ge=B(" Shuffle "),me=k({props:{hSize:null,vSize:null,moveCount:null,time:null},emits:["update:size","shufflePuzzle"],setup(e,{emit:n}){const t=e,r=P(t.hSize),s=P(t.vSize),o=_=>_>1&&_<10&&!(_%1),i=()=>o(r.value)&&o(s.value),d=()=>{i()&&r.value*s.value>4?n("update:size",{h:r.value,v:s.value}):(r.value=t.hSize,s.value=t.vSize)},g=()=>{n("shufflePuzzle")};return(_,m)=>{const b=A("b-btn");return p(),f("div",re,[c("div",ce,[ue,c("div",ie,R(e.moveCount),1),_e,de,c("div",ve,R(`${e.time}s`),1)]),c("div",pe,[c("div",ze,[N(c("input",{"onUpdate:modelValue":m[0]||(m[0]=y=>r.value=y),class:"controls__options__size__input",type:"number"},null,512),[[q,r.value]]),he,N(c("input",{"onUpdate:modelValue":m[1]||(m[1]=y=>s.value=y),class:"controls__options__size__input",type:"number"},null,512),[[q,s.value]]),z(b,{class:"controls__options__btn",onClick:d},{default:I(()=>[fe]),_:1})]),z(b,{class:"controls__options__btn",onClick:g},{default:I(()=>[ge]),_:1})])])}}});var be=$(me,[["__scopeId","data-v-59461763"]]);const ye=e=>(x("data-v-292d30be"),e=e(),w(),e),Pe=ye(()=>c("div",{class:"single-puzzle__cover"},null,-1)),Se=[Pe],$e=k({props:{canMove:{type:Boolean},isBlank:{type:Boolean},bgPosition:null},setup(e){const n=e;j(r=>({"1d1ee2cf":t,"2f201d9b":n.bgPosition}));const t=`url(${new URL(E,self.location).href})`;return(r,s)=>(p(),f("div",{class:M(["single-puzzle",[e.canMove&&"single-puzzle--moveable",e.isBlank&&"single-puzzle--blank"]])},Se,2))}});var ke=$($e,[["__scopeId","data-v-292d30be"]]);const Ie=e=>(x("data-v-618bdc42"),e=e(),w(),e),Ce={id:"puzzle"},xe=Ie(()=>c("div",{class:"puzzle__cover"},null,-1)),we=["src"],Be={class:"puzzle__container__playground"},Te={class:"puzzle__container__cover"},Le=["src"],je=k({props:{hSize:null,vSize:null,arePuzzleOrderedCorrectly:{type:Boolean},basePuzzle:null,userPuzzle:null},emits:["swapUserPuzzle"],setup(e,{emit:n}){const t=e;j(a=>({"02e8d5b3":t.hSize,"03ae1ec1":t.vSize}));const r=new URL(E,self.location).href,s=P(!1);(()=>{const a=new Image;a.src=r,a.onload=async()=>{await V(),s.value=!0}})();const o=a=>a%t.hSize,i=a=>Math.floor(a/t.hSize),d=C(()=>t.userPuzzle.indexOf(t.hSize*t.vSize-1)),g=C(()=>o(d.value)),_=C(()=>i(d.value)),m=a=>a===d.value,b=a=>{const h=t.basePuzzle.indexOf(a),S=o(h),L=i(h),F=S/(t.hSize-1),W=L/(t.vSize-1);return`${F*100}% ${W*100}%`},y=a=>{const h=o(a),S=i(a);return h===g.value&&Math.abs(S-_.value)===1||S===_.value&&Math.abs(h-g.value)===1},l=C(()=>t.userPuzzle.map((a,h)=>m(h)?{id:a,isBlank:!0}:{id:a,bgPosition:b(a),canMove:y(h)})),u=a=>{!y(a)||n("swapUserPuzzle",{indexA:a,indexB:d.value})};return(a,h)=>(p(),f("div",Ce,[xe,c("div",{class:M(["puzzle__container",!s.value&&"puzzle__container--hidden"])},[c("img",{class:"puzzle__container__img",src:v(r)},null,8,we),c("div",Be,[z(J,{name:"puzzle__container__playground__transition"},{default:I(()=>[(p(!0),f(D,null,X(v(l),(S,L)=>(p(),Z(v(ke),ee({key:S.id},S,{onClick:F=>u(L)}),null,16,["onClick"]))),128))]),_:1})]),z(Q,{"enter-active-class":"base__fade-in","leave-active-class":"base__fade-out"},{default:I(()=>[N(c("div",Te,[c("img",{class:"puzzle__container__cover__img",src:v(r)},null,8,Le)],512),[[Y,e.arePuzzleOrderedCorrectly]])]),_:1})],2)]))}});var Me=$(je,[["__scopeId","data-v-618bdc42"]]);const Ne={},G=e=>(x("data-v-2d5b7082"),e=e(),w(),e),Oe={id:"footer"},Ue=G(()=>c("div",{class:"footer__cover"},null,-1)),Ee={class:"footer__text"},Fe=G(()=>c("div",null,"\xA9 2022 Copyright:",-1)),Ve=B("Kajetan Welc"),Ae={class:"footer__text"},Re=B(" (MIT License) ");function qe(e,n){const t=A("b-link");return p(),f("div",Oe,[Ue,c("div",Ee,[Fe,z(t,{href:"https://github.com/brofrain/"},{default:I(()=>[Ve]),_:1})]),c("div",Ae,[z(t,{href:"https://github.com/brofrain/vue3-puzzle/blob/main/LICENSE"},{default:I(()=>[Re]),_:1})])])}var De=$(Ne,[["render",qe],["__scopeId","data-v-2d5b7082"]]);const Ke=k({setup(e){const n=P(3),t=P(3),r=({h:l,v:u})=>{n.value=l,t.value=u},s=C(()=>Array.from({length:n.value*t.value},(l,u)=>u)),o=se([]),i=C(()=>{for(let l=0;l<s.value.length;l++)if(s.value[l]!==o[l])return!1;return!0}),d=P(0),g=P(0);let _;const m=()=>{const l=s.value.slice(0,-1);for(let u=l.length-1;u>0;u--){const a=Math.floor(Math.random()*(u+1));[l[u],l[a]]=[l[a],l[u]]}return l.push(s.value[s.value.length-1]),l},b=()=>{do o.splice(0,o.length,...m());while(i.value);d.value=0,g.value=0},y=({indexA:l,indexB:u})=>{[o[l],o[u]]=[o[u],o[l]],d.value++};return O(d,l=>{if(l===0){clearInterval(_);return}l===1&&(clearInterval(_),_=setInterval(()=>{g.value++},1e3))}),O(i,l=>{l&&clearInterval(_)}),O(s,b),b(),(l,u)=>(p(),f(D,null,[z(v(ae)),z(v(be),{"h-size":n.value,"v-size":t.value,"move-count":d.value,time:g.value,"onUpdate:size":r,onShufflePuzzle:b},null,8,["h-size","v-size","move-count","time"]),z(v(Me),{"h-size":n.value,"v-size":t.value,"are-puzzle-ordered-correctly":v(i),"base-puzzle":v(s),"user-puzzle":v(o),onSwapUserPuzzle:y},null,8,["h-size","v-size","are-puzzle-ordered-correctly","base-puzzle","user-puzzle"]),z(v(De))],64))}});const Ge={},He={class:"base__button"};function We(e,n){return p(),f("div",He,[K(e.$slots,"default",{},void 0,!0)])}var Je=$(Ge,[["render",We],["__scopeId","data-v-472b1c2c"]]);const Qe=e=>(x("data-v-5b0580d2"),e=e(),w(),e),Xe=["href"],Ye=Qe(()=>c("div",{class:"base__link__underline"},null,-1)),Ze=k({props:{href:null},setup(e){return(n,t)=>(p(),f("a",{class:"base__link",href:e.href,target:"_blank"},[K(n.$slots,"default",{},void 0,!0),Ye],8,Xe))}});var es=$(Ze,[["__scopeId","data-v-5b0580d2"]]),ss=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BBtn:Je,BLink:es});const H=te(Ke);for(const[e,n]of Object.entries(ss))H.component(e,n);H.mount("#app");
